@use '../../styles/colors.scss';
@use '../../styles/lengths.scss';

$toggle-switch-border-radius: theme(
  'toggle-switch-border-radius',
  lengths.border-radius(full)
);

.rcx-toggle-switch {
  @include is-selection-button($checked: 'primary', $unchecked: 'off');

  &__input {
    @extend %selection-button__input;
  }

  &__fake {
    position: relative;

    height: lengths.size(20) - 2 * lengths.border-width(default, rem);
    width: lengths.size(2 * 18);

    border-radius: $toggle-switch-border-radius;
    border-width: lengths.border-width(default);
  }

  &__input + &__fake::before {
    position: absolute;
    inset-inline-start: lengths.inset(none);

    width: lengths.size(16) - 2 * lengths.border-width(default, rem);
    height: lengths.size(16) - 2 * lengths.border-width(default, rem);

    content: '';

    border-radius: $toggle-switch-border-radius;

    background-color: colors.button(on-primary);

    top: 50%;
    transform: translateY(-50%);
  }

  &__input:disabled + &__fake::before {
    background-color: colors.button(on-secondary-disabled);
  }

  &__input:checked + &__fake::before {
    inset-inline-start: calc(
      100% - #{lengths.inset(16) - 2 * lengths.border-width(default, rem)}
    );

    background-color: colors.button(on-primary);
  }
}
