@use '../../../styles/colors.scss';
@use '../../../styles/functions.scss';
@use '../../../styles/lengths.scss';
@use '../../../styles/typography.scss';

$message-background-color: functions.theme(
  'message-background-color',
  colors.surface(room)
);

$message-divider-background-color: functions.theme(
  'message-divider-background-color',
  colors.stroke(extra-light)
);
$message-divider-color: functions.theme(
  'message-divider-color',
  colors.font(default)
);

$message-divider-color-unread: functions.theme(
  'message-divider-color-unread',
  colors.font(danger)
);
$message-divider-background-color-unread: functions.theme(
  'message-divider-background-color-unread',
  colors.stroke(error)
);

$message-divider-size: functions.theme(
  'message-divider-size',
  lengths.border-width(default)
);

$message-divider-size-neg: functions.theme(
  'message-divider-size-neg',
  lengths.margin(-1)
);

.rcx-message-divider {
  @include typography.use-font-scale(c2);

  position: relative;
  z-index: 1;

  display: flex;
  align-items: center;

  margin-bottom: $message-divider-size-neg;
  padding-inline: lengths.margin(20);

  color: $message-divider-color;

  &__bar {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    flex-grow: 1;

    &::after {
      flex-grow: 1;

      height: $message-divider-size;

      content: '';

      background: $message-divider-background-color;
    }
  }

  &--unread &__bar {
    &::after {
      background: $message-divider-background-color-unread;
    }
  }

  // &--unread {
  //   &:after,
  //   &:before {
  //   }
  // }

  &__wrapper {
    margin-block: lengths.margin(8);
    padding-inline: lengths.padding(8);

    background-color: $message-background-color;

    &--unread {
      position: absolute;
      z-index: 1;
      // right: lengths.padding(8);

      order: 1;

      padding-inline-start: lengths.padding(8);

      color: $message-divider-color-unread;
      background-color: $message-background-color;
    }
  }
}
