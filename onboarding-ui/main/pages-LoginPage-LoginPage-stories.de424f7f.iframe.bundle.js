"use strict";(self.webpackChunk_rocket_chat_onboarding_ui=self.webpackChunk_rocket_chat_onboarding_ui||[]).push([[8937],{"./src/forms/LoginForm/LoginForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>LoginForm_LoginForm});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),fuselage=__webpack_require__("../fuselage/index.js"),esm=__webpack_require__("../layout/dist/esm/index.js"),index_esm=__webpack_require__("../../node_modules/react-hook-form/dist/index.esm.mjs"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),dist_esm=__webpack_require__("../styled/dist/esm/index.js");const LoginActionsWrapper=__webpack_require__.n(dist_esm)()("div")`
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  justify-content: stretch;

  a {
    padding-inline: 8px;
  }
`;try{LoginActionsWrapper.displayName="LoginActionsWrapper",LoginActionsWrapper.__docgenInfo={description:"",displayName:"LoginActionsWrapper",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/forms/LoginForm/LoginForm.styles.tsx#LoginActionsWrapper"]={docgenInfo:LoginActionsWrapper.__docgenInfo,name:"LoginActionsWrapper",path:"src/forms/LoginForm/LoginForm.styles.tsx#LoginActionsWrapper"})}catch(__react_docgen_typescript_loader_error){}const LoginForm=({onSubmit,initialValues,isPasswordLess=!1,onChangeForm,onResetPassword,formError})=>{const{t}=(0,es.useTranslation)(),{register,handleSubmit,formState:{errors,isValidating,isSubmitting,isDirty}}=(0,index_esm.mN)({defaultValues:{...initialValues}});return(0,jsx_runtime.jsxs)(esm.Form,{onSubmit:handleSubmit(onSubmit),children:[(0,jsx_runtime.jsxs)(esm.Form.Header,{children:[(0,jsx_runtime.jsx)(esm.Form.Title,{children:t("form.loginForm.content.logIn")}),(0,jsx_runtime.jsx)(esm.Form.Subtitle,{children:t(isPasswordLess?"form.loginForm.content.passwordLess":"form.loginForm.content.default")})]}),(0,jsx_runtime.jsx)(esm.Form.Container,{children:(0,jsx_runtime.jsxs)(fuselage.FieldGroup,{children:[(0,jsx_runtime.jsxs)(fuselage.Field,{children:[(0,jsx_runtime.jsx)(fuselage.FieldLabel,{children:t("form.loginForm.fields.email.label")}),(0,jsx_runtime.jsx)(fuselage.FieldRow,{children:(0,jsx_runtime.jsx)(fuselage.EmailInput,{...register("email",{required:t("component.form.requiredField")}),placeholder:t("form.loginForm.fields.email.placeholder")})}),errors.email&&(0,jsx_runtime.jsx)(fuselage.FieldError,{children:errors.email.message})]}),!isPasswordLess&&(0,jsx_runtime.jsxs)(fuselage.Field,{children:[(0,jsx_runtime.jsx)(fuselage.FieldLabel,{children:t("form.loginForm.fields.password.label")}),(0,jsx_runtime.jsx)(fuselage.FieldRow,{children:(0,jsx_runtime.jsx)(fuselage.PasswordInput,{...register("password",{required:!0}),placeholder:t("form.loginForm.fields.password.placeholder")})}),(formError||errors.password)&&(0,jsx_runtime.jsx)(fuselage.FieldError,{children:t("form.loginForm.fields.password.error")})]})]})}),(0,jsx_runtime.jsxs)(esm.Form.Footer,{children:[(0,jsx_runtime.jsxs)(LoginActionsWrapper,{children:[(0,jsx_runtime.jsx)(fuselage.Button,{type:"submit",loading:isValidating||isSubmitting,disabled:!isDirty,primary:!0,children:t(isPasswordLess?"form.loginForm.sendLoginLink":"form.loginForm.button.text")}),!isPasswordLess&&(0,jsx_runtime.jsx)(esm.ActionLink,{fontScale:"p2",onClick:onChangeForm,children:t("form.loginForm.sendLoginLink")}),isPasswordLess&&(0,jsx_runtime.jsx)(esm.ActionLink,{fontScale:"p2",onClick:onChangeForm,children:t("form.loginForm.redirect")})]}),!isPasswordLess&&(0,jsx_runtime.jsx)(fuselage.Box,{mbs:24,fontScale:"p2",textAlign:"left",children:(0,jsx_runtime.jsxs)(es.Trans,{i18nKey:"form.loginForm.resetPassword",children:["Forgot your password?",(0,jsx_runtime.jsx)(esm.ActionLink,{fontScale:"p2",onClick:onResetPassword,children:"Reset password"})]})})]})]})},LoginForm_LoginForm=LoginForm;try{LoginForm.displayName="LoginForm",LoginForm.__docgenInfo={description:"",displayName:"LoginForm",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"LoginFormPayload"}},onChangeForm:{defaultValue:null,description:"",name:"onChangeForm",required:!0,type:{name:"() => void"}},isPasswordLess:{defaultValue:{value:"false"},description:"",name:"isPasswordLess",required:!1,type:{name:"boolean"}},onResetPassword:{defaultValue:null,description:"",name:"onResetPassword",required:!0,type:{name:"() => void"}},formError:{defaultValue:null,description:"",name:"formError",required:!1,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"SubmitHandler<LoginFormPayload>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/forms/LoginForm/LoginForm.tsx#LoginForm"]={docgenInfo:LoginForm.__docgenInfo,name:"LoginForm",path:"src/forms/LoginForm/LoginForm.tsx#LoginForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/forms/TotpForm/TotpForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TotpForm_TotpForm});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),fuselage=__webpack_require__("../fuselage/index.js"),esm=__webpack_require__("../layout/dist/esm/index.js"),index_esm=__webpack_require__("../../node_modules/react-hook-form/dist/index.esm.mjs"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),dist_esm=__webpack_require__("../styled/dist/esm/index.js");const TotpActionsWrapper=__webpack_require__.n(dist_esm)()("div")`
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-flow: column nowrap;
  align-items: flex-start;
  justify-content: stretch;

  a {
    margin-block-start: 16px;
  }

  @media (min-width: 1440px) {
    flex-flow: row nowrap;
    padding: 0;
    width: 100%;
    align-items: center;
    max-width: 1152px;

    a {
      padding-inline: 8px;
      margin-block-start: 0;
    }
  }
`;try{TotpActionsWrapper.displayName="TotpActionsWrapper",TotpActionsWrapper.__docgenInfo={description:"",displayName:"TotpActionsWrapper",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/forms/TotpForm/TotpForm.styles.tsx#TotpActionsWrapper"]={docgenInfo:TotpActionsWrapper.__docgenInfo,name:"TotpActionsWrapper",path:"src/forms/TotpForm/TotpForm.styles.tsx#TotpActionsWrapper"})}catch(__react_docgen_typescript_loader_error){}const TotpForm=({onSubmit,initialValues,isBackupCode=!1,onChangeTotpForm})=>{const{t}=(0,es.useTranslation)(),{register,handleSubmit,formState:{errors,isValidating,isSubmitting}}=(0,index_esm.mN)({defaultValues:{...initialValues}});return(0,jsx_runtime.jsxs)(esm.Form,{onSubmit:handleSubmit(onSubmit),children:[(0,jsx_runtime.jsx)(esm.Form.Container,{children:(0,jsx_runtime.jsx)(fuselage.FieldGroup,{children:(0,jsx_runtime.jsxs)(fuselage.Field,{children:[isBackupCode?(0,jsx_runtime.jsx)(fuselage.FieldLabel,{children:t("form.totpForm.fields.backupCode.label")}):(0,jsx_runtime.jsx)(fuselage.FieldLabel,{children:t("form.totpForm.fields.totpCode.label")}),(0,jsx_runtime.jsx)(fuselage.FieldRow,{children:isBackupCode?(0,jsx_runtime.jsx)(fuselage.TextInput,{...register("backupCode",{required:t("component.form.requiredField")}),placeholder:t("form.totpForm.fields.backupCode.placeholder")}):(0,jsx_runtime.jsx)(fuselage.NumberInput,{...register("totpCode",{required:t("component.form.requiredField")}),placeholder:t("form.totpForm.fields.totpCode.placeholder")})}),errors.backupCode&&(0,jsx_runtime.jsx)(fuselage.FieldError,{children:errors.backupCode.message}),errors.totpCode&&(0,jsx_runtime.jsx)(fuselage.FieldError,{children:errors.totpCode.message})]})})}),(0,jsx_runtime.jsx)(esm.Form.Footer,{children:(0,jsx_runtime.jsxs)(TotpActionsWrapper,{children:[(0,jsx_runtime.jsx)(fuselage.Button,{type:"submit",loading:isValidating||isSubmitting,primary:!0,children:t("form.totpForm.button.text")}),(0,jsx_runtime.jsx)(esm.ActionLink,{fontScale:"p2",onClick:onChangeTotpForm,children:t(isBackupCode?"form.totpForm.buttonTotpCode.text":"form.totpForm.buttonBackupCode.text")})]})})]})},TotpForm_TotpForm=TotpForm;try{TotpForm.displayName="TotpForm",TotpForm.__docgenInfo={description:"",displayName:"TotpForm",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"TotpFormPayload"}},onChangeTotpForm:{defaultValue:null,description:"",name:"onChangeTotpForm",required:!0,type:{name:"() => void"}},isBackupCode:{defaultValue:{value:"false"},description:"",name:"isBackupCode",required:!1,type:{name:"boolean"}},formError:{defaultValue:null,description:"",name:"formError",required:!1,type:{name:"string"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"SubmitHandler<TotpFormPayload>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/forms/TotpForm/TotpForm.tsx#TotpForm"]={docgenInfo:TotpForm.__docgenInfo,name:"TotpForm",path:"src/forms/TotpForm/TotpForm.tsx#TotpForm"})}catch(__react_docgen_typescript_loader_error){}},"./src/pages/LoginPage/LoginPage.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_LoginPage:()=>_LoginPage,_LoginPasswordLessPage:()=>_LoginPasswordLessPage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>LoginPage_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),esm=__webpack_require__("../layout/dist/esm/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),LoginForm=__webpack_require__("./src/forms/LoginForm/LoginForm.tsx"),TotpForm=__webpack_require__("./src/forms/TotpForm/TotpForm.tsx");const LoginPage=({onCreateAccount,...props})=>{const{t}=(0,es.useTranslation)(),{isMfa,mfaProps}=props;return(0,jsx_runtime.jsxs)(esm.VerticalWizardLayout,{children:[(0,jsx_runtime.jsx)(esm.VerticalWizardLayoutTitle,{children:t("page.loginPage.title.cloud")}),(0,jsx_runtime.jsx)(esm.VerticalWizardLayoutForm,{children:isMfa&&mfaProps?(0,jsx_runtime.jsx)(TotpForm.A,{...mfaProps}):(0,jsx_runtime.jsx)(LoginForm.A,{...props})}),(0,jsx_runtime.jsx)(esm.VerticalWizardLayoutFooter,{children:!isMfa&&(0,jsx_runtime.jsxs)(es.Trans,{i18nKey:"page.loginPage.createAccount.label",children:["New here?",(0,jsx_runtime.jsx)(esm.ActionLink,{fontScale:"p2",onClick:onCreateAccount,children:"Create account"})]})})]})},LoginPage_LoginPage=LoginPage;try{LoginPage.displayName="LoginPage",LoginPage.__docgenInfo={description:"",displayName:"LoginPage",props:{initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:'Omit<LoginFormPayload, "password">'}},onChangeForm:{defaultValue:null,description:"",name:"onChangeForm",required:!0,type:{name:"() => void"}},onResetPassword:{defaultValue:null,description:"",name:"onResetPassword",required:!0,type:{name:"() => void"}},formError:{defaultValue:null,description:"",name:"formError",required:!1,type:{name:"string"}},isPasswordLess:{defaultValue:null,description:"",name:"isPasswordLess",required:!0,type:{name:"boolean"}},isMfa:{defaultValue:null,description:"",name:"isMfa",required:!0,type:{name:"boolean"}},onCreateAccount:{defaultValue:null,description:"",name:"onCreateAccount",required:!0,type:{name:"() => void"}},mfaProps:{defaultValue:null,description:"",name:"mfaProps",required:!1,type:{name:"TotpFormProps"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"SubmitHandler<LoginFormPayload>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pages/LoginPage/LoginPage.tsx#LoginPage"]={docgenInfo:LoginPage.__docgenInfo,name:"LoginPage",path:"src/pages/LoginPage/LoginPage.tsx#LoginPage"})}catch(__react_docgen_typescript_loader_error){}const LoginPage_stories={title:"pages/LoginPage",component:LoginPage_LoginPage,parameters:{actions:{argTypesRegex:"^on.*"},layout:"fullscreen"}},_LoginPage=args=>(0,jsx_runtime.jsx)(LoginPage_LoginPage,{...args}),_LoginPasswordLessPage=args=>(0,jsx_runtime.jsx)(LoginPage_LoginPage,{...args});_LoginPage.storyName="CloudDefaultLoginPage",_LoginPasswordLessPage.storyName="CloudPasswordLessLoginPage",_LoginPasswordLessPage.args={isPasswordLess:!0};const __namedExportsOrder=["_LoginPage","_LoginPasswordLessPage"];_LoginPage.parameters={..._LoginPage.parameters,docs:{..._LoginPage.parameters?.docs,source:{originalSource:"args => <LoginPage {...args} />",..._LoginPage.parameters?.docs?.source}}},_LoginPasswordLessPage.parameters={..._LoginPasswordLessPage.parameters,docs:{..._LoginPasswordLessPage.parameters?.docs,source:{originalSource:"args => <LoginPage {...args} />",..._LoginPasswordLessPage.parameters?.docs?.source}}}}}]);